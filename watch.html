<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="bvrvl blog - watch tool" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Serif+Pro:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <title>Watch Embed - bvrvl</title>
</head>
<body>
  <div class="theme-switcher">
      <button id="theme-toggle-button">Dark/Light Theme</button>
  </div>

  <aside class="sidebar">
    <a href="/index.html" class="sidebar-back-link">← Back to Main</a>
  </aside>

  <main class="main-content">
      <header class="site-header">
        <div class="site-branding">
          <h1>bvrvl</h1>
          <p class="site-tagline">blog</p>
        </div>
        <div class="site-author">
          <p class="author-name">Saurabh Baral</p>
          <a id="author-email-link" class="author-email"></a>
        </div>
      </header>

      <div id="post-display-area">
          <article>
              <h1>Watch</h1>
              <div class="post-content">
                  <p>i have youtube blocked via <a href="https://getcoldturkey.com/">Cold Turkey</a> on my computer. society, however, needs me to watch these videos from time to time. this page uses embed to bypass Cold Turkey and watch whatever samaj wants me to watch.</p>
                  
                  <div class="youtube-embed-form">
                    <label for="youtube-url">YouTube URL:</label>
                    <input type="text" id="youtube-url" placeholder="https://www.youtube.com/watch?v=...">
                    <button id="embed-button">Load Video</button>
                  </div>

                  <div id="video-container" class="video-container">
                    <!-- Embedded video will appear here -->
                  </div>
              </div>
          </article>
      </div>
      
      <footer class="site-footer-main">
        © <span id="current-year"></span> Saurabh Baral (bvrvl). All content licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">CC BY-SA 4.0</a>.
      </footer>
  </main>

  <script>
    // Standard site scripts
    const body=document.body,themeToggleButton=document.getElementById("theme-toggle-button");function applyTheme(e){body.classList.toggle("dark-mode","dark"===e),themeToggleButton&&(themeToggleButton.textContent="dark"===e?"Light Theme":"Dark Theme")}function renderProtectedEmails(){const e="saurabh",t="bvrvl.com",n=e+"@"+t,o=document.getElementById("author-email-link");o&&!o.href&&(o.href="mailto:"+n,o.textContent=n);const l=document.getElementById("about-email-link");l&&!l.href&&(l.href="mailto:"+n,l.textContent=n)}themeToggleButton&&themeToggleButton.addEventListener("click",()=>{let e=body.classList.contains("dark-mode")?"light":"dark";applyTheme(e),localStorage.setItem("theme",e)}),function(){const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;applyTheme(e||(t?"dark":"light")),document.getElementById("current-year").textContent=(new Date).getFullYear(),renderProtectedEmails()}();

    // YouTube Embedder Script
    const embedButton = document.getElementById('embed-button');
    const urlInput = document.getElementById('youtube-url');
    const videoContainer = document.getElementById('video-container');

    function getYouTubeID(url) {
        let ID = '';
        url = url.replace(/(>|<)/gi,'').split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);
        if (url[2] !== undefined) {
            ID = url[2].split(/[^0-9a-z_\-]/i);
            ID = ID[0];
        }
        else {
            ID = url;
        }
        return ID;
    }

    function embedVideo() {
        const url = urlInput.value;
        if (!url) {
            alert("Please enter a YouTube URL.");
            return;
        }
        
        const videoId = getYouTubeID(url);

        if (videoId) {
            videoContainer.innerHTML = `
                <iframe 
                    src="https://www.youtube.com/embed/${videoId}" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            `;
        } else {
            videoContainer.innerHTML = "<p>Could not find a valid YouTube video ID in the URL.</p>";
        }
    }

    embedButton.addEventListener('click', embedVideo);
    
    urlInput.addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
            embedVideo();
        }
    });
  </script>

</body>
</html>